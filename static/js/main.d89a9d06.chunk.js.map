{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Loader/Loader.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","e","preventDefault","onSubmit","props","reset","setState","handleChange","value","target","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","webformatURL","largeImageURL","tags","showModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","list","newList","map","item","Button","title","Loader","loader","ldsRipple","ldsRippleElem","MyModal","document","getElementById","Modal","onCloseModal","key","closeModal","window","addEventListener","removeEventListener","children","createPortal","backdrop","modalContent","App","gallery","page","limit","loading","listRef","createRef","handleLoadMore","queryRequest","toggleModal","axios","get","then","data","hits","prevProps","prevState","snapshot","scrollTo","top","behavior","length","current","scrollHeight","ref","style","height","width","borderRadius","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d89a9d06.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1zWti\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__26rRP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1af_S\",\"modalContent\":\"Modal_modalContent__9iqiW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__RRV7l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__13IAM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__CdC0o\"};","import { Component } from 'react';\r\n\r\nimport styles from './Searchbar.module.css'\r\n\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        query: ''\r\n    }\r\n    \r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { onSubmit } = this.props\r\n        onSubmit(this.state)\r\n        this.reset()\r\n    }\r\n    reset = () => {\r\n        this.setState({\r\n            query: ''\r\n        })\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        const {value} = target\r\n        this.setState({\r\n            query: value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {handleSubmit, handleChange} = this\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n            <form className={styles.SearchForm} onSubmit={handleSubmit}>\r\n                <button type=\"submit\" className={styles.SearchFormButton}>\r\n                <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                className={styles.SearchFormInput}\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                value={this.state.query}\r\n                onChange={handleChange}\r\n                />\r\n            </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import styles from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({ id, webformatURL, largeImageURL, tags, showModal }) => {\r\n    return (\r\n        <li onClick={()=>showModal(largeImageURL)} className={styles.ImageGalleryItem}>\r\n            <img src={webformatURL} alt={tags} className={styles.ImageGalleryItemImage} id={id}/>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem/'\r\n\r\nimport styles from './ImageGallery.module.css'\r\n\r\n\r\nconst ImageGallery = ({ list, showModal}) => {\r\n    const newList = list.map(item => <ImageGalleryItem showModal={showModal} key={`${item.id}`} {...item}/>)\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {newList}\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default ImageGallery;","import styles from './Button.module.css'\r\n\r\nconst Button = ({ title, onClick }) => (<button onClick={onClick} className={styles.Button}>{title}</button>);\r\n\r\nexport default Button;","import styles from './Loader.module.css'\r\n\r\nconst Loader = () => (\r\n<div className={styles.loader}>\r\n    <div className={styles.ldsRipple}>\r\n        <div className={styles.ldsRippleElem}></div>\r\n        <div className={styles.ldsRippleElem}></div>\r\n    </div>\r\n</div>\r\n);\r\n\r\nexport default Loader;","import styles from './Modal.module.css'\r\nimport { Component } from 'react'\r\nimport { createPortal } from 'react-dom'\r\n\r\nconst MyModal = document.getElementById('modal-root')\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.onCloseModal)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.onCloseModal)\r\n    }\r\n\r\n    onCloseModal = (e) => { \r\n        if (e.key === 'Escape') {\r\n            this.props.closeModal()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { children, closeModal } = this.props\r\n        return createPortal(\r\n            <div className={styles.backdrop} onClick={closeModal}>\r\n                <div className={styles.modalContent}>{children}</div>\r\n            </div>, MyModal)\r\n    }\r\n};\r\n\r\nexport default Modal;","import { Component, createRef } from 'react';\nimport axios from 'axios'\n\nimport styles from './App.module.css'\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery'\nimport Button from './components/Button';\nimport Loader from './components/Loader'\nimport Modal from './components/Modal'\n\n\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    page: 1,\n    limit: 12,\n    query: '',\n    loading: false,\n    showModal: false,\n    src: null,\n  }\n  \n  componentDidMount() {\n  const {page, limit, query} = this.state\n\n  axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=20962845-be92ff9dd02a983b16d8c331e&per_page=${limit}`).then(\n    ({ data }) => {\n      this.setState(() => ({ gallery: data.hits }))\n    }\n  )\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { page, limit, query, loading } = this.state  \n    if (loading) {\n      axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=20962845-be92ff9dd02a983b16d8c331e&per_page=${limit}`).then(\n    ({ data }) => {\n      this.setState(({gallery}) => ({ gallery: [...gallery, ...data.hits],  loading: false }))\n    }\n  )\n    }\n    if (snapshot !== null) {\n      window.scrollTo({\n          top: snapshot,\n          behavior: 'smooth',\n      });\n    }\n  \n  }\n\n\n  listRef = createRef()\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.gallery.length < this.state.gallery.length) {\n      const { current } = this.listRef\n      return current.scrollHeight\n    }\n    return null\n  }\n\n  handleLoadMore = () => {\n    const { page} = this.state\n    \n    this.setState(() => ({page: page + 1, loading: true}))\n\n    }\n\n  queryRequest = ({query}) => {\n    this.setState({\n      gallery: [],\n      query: query,\n      loading: true\n    })\n  }\n\n  toggleModal = (src) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      src\n    }))\n  }\n\n\n  render() {\n    const {handleLoadMore, queryRequest, toggleModal} = this\n    const{gallery, loading, showModal, src} = this.state\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={queryRequest}/>\n        <div ref={this.listRef}>\n          <ImageGallery list={gallery} showModal={toggleModal}/>\n        </div>\n        {loading && <Loader/> }\n        {!loading && <Button onClick={handleLoadMore} title='LoadMore'/>}\n        {showModal && <Modal closeModal={toggleModal}>\n          <img src={src} style={{\n            height: '90vh',\n            width: '70vw',\n            borderRadius: \"5px\"\n          }}/>\n        </Modal>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__6LicC\",\"SearchForm\":\"Searchbar_SearchForm__2hk18\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3z-BE\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3PAG9\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3w-5y\",\"SearchForInput\":\"Searchbar_SearchForInput__2Wji3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2xIms\",\"ldsRipple\":\"Loader_ldsRipple__B-DDi\",\"ldsRippleElem\":\"Loader_ldsRippleElem__2t6Ti\",\"lds-ripple\":\"Loader_lds-ripple__1F6XD\",\"loaderText\":\"Loader_loaderText__272TG\"};"],"sourceRoot":""}